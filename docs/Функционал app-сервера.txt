Данные из пайлоада токена:
1) user_id - мдентификатор пользователя в auth-service
2) username - текстом имя пользователя
3) role - код роли(1-user; 2-moderator; 3-admin)


Описание API ручек

1. Общедоступные методы (доступны для авторизованных и неавторизованных пользователей)

1.1. Получить все категории
Описание: Возвращает список всех категорий.
Метод: GET /ads/categories

1.2. Получить все города
Описание: Возвращает список всех городов.
Метод: GET /ads/towns

2. Работа с опубликованными объявлениями (доступны для всех пользователей)

2.1. Получение списка опубликованных объявлений
Описание: Возвращает список объявлений со статусом "published", с возможностью фильтрации по городу, категории, а также пагинации и сортировки.
Метод: GET /ads
Параметры запроса:
    town (опционально) — фильтр по городу (название или ID);
    category (опционально) — фильтр по категории (название или ID, включая подкатегории);
    page (опционально) — номер страницы для пагинации;
    limit (опционально) — количество записей на странице;
    sort (опционально) — параметры сортировки.

2.2. Получение карточки опубликованного объявления
Описание: Возвращает данные конкретного объявления со статусом "published" по его ID.
Метод: GET /ads/{id}

3. Работа с личными объявлениями (доступны только для авторизованных пользователей)
3.1. Получение всех своих объявлений
Описание: Возвращает список всех объявлений текущего пользователя с возможностью фильтрации по статусу, городу и категории.
Метод: GET /ads/my-ads
Параметры запроса:
    town (опционально) — фильтр по городу;
    category (опционально) — фильтр по категории;
    status (опционально) — фильтр по статусу.

3.2. Получение карточки своего объявления
Описание: Возвращает данные конкретного объявления текущего пользователя по его ID.
Метод: GET /ads/myads/{id}

3.3. Создание нового объявления
Описание: Создаёт новое объявление. Статус устанавливается в "draft". Максимальное количество объявлений регулируется параметрами системы.
Метод: POST /ads

3.4. Изменение своего объявления
Описание: Позволяет обновить данные существующего объявления текущего пользователя.
Метод: PUT /ads/{id}

3.5. Отправка объявления на модерацию
Описание: Переводит объявление текущего пользователя в статус "moderation".
Метод: PATCH /ads/{id}/publish

3.6. Снятие объявления с публикации
Описание: Снимает опубликованное объявление текущего пользователя, переводя его в статус "draft".
Метод: PATCH /ads/{id}/unpublish

3.7. Удаление своего объявления
Описание: Удаляет объявление текущего пользователя по его ID.
Метод: DELETE /ads/{id}

4. Модерация объявлений (доступно для модераторов и администраторов)

4.1. Получение всех объявлений
Описание: Возвращает список всех объявлений (всех пользователей) в любых статусах с возможностью фильтрации.
Метод: GET /moderation/ads
Параметры запроса:
    town (опционально) — фильтр по городу;
    category (опционально) — фильтр по категории;
    status (опционально) — фильтр по статусу.

4.2. Одобрение публикации объявления
Описание: Переводит объявление со статусом "moderation" в статус "published".
Метод: POST /ads/{id}/approve


4.3. Отклонение публикации объявления
Описание: Снимает объявление с публикации или отклоняет его, если оно находится в статусах "moderation" или "published".
Метод: POST /ads/{id}/reject