# API Gateway Service

**API Gateway** служит шлюзом между клиентами и микросервисами, обеспечивая маршрутизацию, аутентификацию и обработку запросов.

Микросервисы с которыми взаимодействует API **Gateway**:

* **Auth-service** - сервис авторизации(на основе JWT-токенов), взаимодействие с которым реализовано на протоколе gRPC и на основе прото-файла: [auth.proto](/proto/auth.proto). 

* **Swapmeet-service** - сервис прикладной бизнес-логики "доски объявлений", взаимодействие с которым реализовано на протоколе gRPC и на основе прото-файла: [swapmeet.proto](/proto/swapmeet.proto)


## Особенности

* Запросы требующие валидации токенов перенаправляются в **Auth-service** (Middleware слой).
* Проверка ролей пользователей в **API Gateway** не выполняется(такая проверка имеется в **Swapmeet-service**, впрочем, валидация токенов в **Swapmeet-service** также имеется). 



## Предоставляемые маршруты и Swagger-документация

В целом, имеющиеся маршруты довольно подробно описаны в swagger-документации. Для генерации Swagger-файлов выполните следующую команду в корневой директории проекта (сгенерированная документация будет размещена в директории ./docs):

`swag init --parseDependency --dir ./cmd/main,./internal/handlers --output ./docs`

Swagger UI доступен по маршруту /swagger/index.html и предоставляет удобный интерфейс для тестирования и изучения API.

